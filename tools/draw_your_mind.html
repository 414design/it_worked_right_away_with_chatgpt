<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>draw your mind</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Helvetica Neue',Arial,sans-serif; color:#fff; text-transform:lowercase; }
body { background:#000; overflow:hidden; height:100vh; width:100vw; display:grid; grid-template-rows:auto 1fr; background-image: linear-gradient(rgba(60,60,60,0.25) 1px, transparent 1px), linear-gradient(90deg, rgba(60,60,60,0.25) 1px, transparent 1px); background-size:24px 24px; background-position:center; }
header { padding:24px 0; text-align:center; border-bottom:1px solid rgba(120,120,120,0.4); }
h1 { font-size:3.8rem; font-weight:700; letter-spacing:0.05em; }
.content-container { display:grid; grid-template-columns:1fr 1fr; height:100%; width:100%; position:relative; }
.content-container::before { content:''; position:absolute; top:0; left:50%; transform:translateX(-50%); width:1px; height:100%; background-color:rgba(120,120,120,0.4); z-index:1; }
.task-container, .canvas-wrapper { display:flex; justify-content:center; align-items:center; padding:40px; height:100%; box-sizing:border-box; }
#taskText { font-size:2.5rem; font-weight:700; max-width:500px; line-height:1.35; text-align:center; padding:20px; }
.canvas-wrapper { flex-direction:column; position:relative; }
.canvas-area { position:relative; display:flex; justify-content:center; align-items:center; width:100%; height:100%; max-height:calc(100vh - 160px); max-width:calc(100vh - 160px); }
canvas { background-color:#000; border:1px solid rgba(120,120,120,0.4); max-height:100%; max-width:100%; aspect-ratio:1/1; display:block; }
.buttons { display:flex; justify-content:center; gap:16px; margin-top:20px; width:100%; }
button { background-color:transparent; border:1px solid rgba(120,120,120,0.4); padding:12px 28px; font-size:1.1rem; cursor:pointer; transition:0.2s; }
button:hover { background-color:rgba(120,120,120,0.2); }
#cursorDot { position:absolute; width:4px; height:4px; background:white; border-radius:50%; pointer-events:none; display:none; transform:translate(-50%, -50%); z-index:10; }
</style>
</head>
<body>
<header><h1>draw your mind</h1></header>

<main class="content-container">
<div class="task-container"><p id="taskText"></p></div>

<div class="canvas-wrapper">
<div class="canvas-area">
<canvas id="drawingCanvas"></canvas>
<div id="cursorDot"></div>
</div>
<div class="buttons">
<button id="newTaskBtn">new task</button>
<button id="clearCanvasBtn">clear canvas</button>
<button id="exportBtn">export drawing</button>
</div>
</div>
</main>

<script>
// Canvas Setup
const canvas = document.getElementById('drawingCanvas');
const ctx = canvas.getContext('2d');
const cursorDot = document.getElementById('cursorDot');
let isDrawing = false, lastX = 0, lastY = 0;

// Tasks
const actions = ['draw','paint','sketch','visualize','express','create'];
const subjects = ["what you're grateful for today","your current feeling","the rhythm of your breath","something that feels like home","a sound you’re hearing right now","a memory from today","your stream of thoughts","the silence around you","your sense of time","what peace looks like to you","the color of your mood","a moment you want to remember","the feeling of movement","your day as an abstract form"];
const styles = ['with your eyes closed','without lifting the pen','using only dots','using only lines','as a single line','with your non-dominant hand','using only short strokes','as a continuous pattern','in one minute','without thinking too much','as freely as possible','using only geometric shapes','in slow motion','with minimal detail'];

// Canvas setup & resize
function setupCanvas() {
    const container = document.querySelector('.canvas-area');
    const size = Math.min(container.clientWidth, container.clientHeight, 800);

    // Inhalte sichern
    const tempCanvas = document.createElement('canvas');
    tempCanvas.width = canvas.width || size;
    tempCanvas.height = canvas.height || size;
    tempCanvas.getContext('2d').drawImage(canvas,0,0);

    canvas.width = size;
    canvas.height = size;

    // Schwarzer Hintergrund
    ctx.fillStyle = '#000';
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // Zurückzeichnen
    ctx.drawImage(tempCanvas,0,0,size,size);
}

// Drawing
function getCanvasCoordinates(e){
    const rect = canvas.getBoundingClientRect();
    return {x: (e.clientX - rect.left) * (canvas.width/rect.width), y: (e.clientY - rect.top) * (canvas.height/rect.height)};
}

function startDrawing(e){ isDrawing = true; const p=getCanvasCoordinates(e); lastX=p.x; lastY=p.y;}
function draw(e){ if(!isDrawing) return; const p=getCanvasCoordinates(e);
ctx.beginPath(); ctx.moveTo(lastX,lastY); ctx.lineTo(p.x,p.y); ctx.strokeStyle='#fff'; ctx.lineWidth=1.5; ctx.lineCap='round'; ctx.stroke(); lastX=p.x; lastY=p.y;}
function stopDrawing(){ isDrawing=false;}

// Task Generator
function generateTask(){ document.getElementById('taskText').textContent = `${actions[Math.floor(Math.random()*actions.length)]} ${subjects[Math.floor(Math.random()*subjects.length)]} ${styles[Math.floor(Math.random()*styles.length)]}.`;}

// Clear Canvas
function clearCanvas(){ ctx.fillStyle='#000'; ctx.fillRect(0,0,canvas.width,canvas.height);}

// Export
function exportDrawing(){
    const link = document.createElement('a');
    link.download='your-drawing.png';
    link.href=canvas.toDataURL('image/png');
    link.click();
}

// Cursor
function updateCursor(e){
    const rect=canvas.getBoundingClientRect();
    const x=e.clientX, y=e.clientY;
    if(x>rect.left&&x<rect.right&&y>rect.top&&y<rect.bottom){ cursorDot.style.display='block'; cursorDot.style.left=x+'px'; cursorDot.style.top=y+'px'; }
    else{ cursorDot.style.display='none'; }
}

// Events
canvas.addEventListener('mousedown', startDrawing);
canvas.addEventListener('mousemove', (e)=>{ draw(e); updateCursor(e); });
canvas.addEventListener('mouseup', stopDrawing);
canvas.addEventListener('mouseout', stopDrawing);
document.addEventListener('mousemove', updateCursor);

document.getElementById('newTaskBtn').addEventListener('click', generateTask);
document.getElementById('clearCanvasBtn').addEventListener('click', clearCanvas);
document.getElementById('exportBtn').addEventListener('click', exportDrawing);

// Initialize
setupCanvas();
generateTask();
window.addEventListener('resize', setupCanvas);
</script>
</body>
</html>
