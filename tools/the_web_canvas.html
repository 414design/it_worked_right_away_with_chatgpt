<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Web Canvas</title>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --warning: #f72585;
            --dark: #2b2d42;
            --light: #f8f9fa;
            --gray: #8d99ae;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #fafafa;
            color: var(--dark);
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        .workflow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        .step-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .step-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        .color-palette-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--secondary);
            border-bottom: 2px solid var(--gray);
            padding-bottom: 10px;
        }
        .palette-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .color-input-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .color-box {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid #ddd;
            position: relative;
            overflow: hidden;
        }
        .color-box input {
            width: 100%;
            height: 100%;
            border: none;
            cursor: pointer;
            padding: 0;
        }
        .color-preview {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .color-item {
            position: relative;
            width: 80px;
            height: 80px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        .remove-color {
            position: absolute;
            top: -12px;
            right: -12px;
            background: var(--warning);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
            border: none;
        }
        /* ðŸ”¹ NEUE STYLES FÃœR AUSGEWÃ„HLTE FARBEN */
        .color-item.selected-bg {
            box-shadow: 0 0 0 3px var(--primary), inset 0 0 0 2px white;
            border-radius: 8px;
        }
        .color-item.selected-text {
            box-shadow: 0 0 0 3px #4CAF50, inset 0 0 0 2px white;
            border-radius: 8px;
        }
        .wcag-checker {
            margin-top: 30px;
            padding: 20px;
            background: #f0f4f8;
            border-radius: 10px;
        }
        .contrast-selector {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .contrast-option {
            flex: 1;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .contrast-option.selected {
            border-color: var(--primary);
            background: #e3f2fd;
        }
        .contrast-preview {
            height: 150px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        .contrast-result {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.2rem;
        }
        .pass {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .fail {
            background: #ffebee;
            color: #c62828;
        }
        .font-pairing-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        .font-selector {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .font-column {
            flex: 1;
            min-width: 250px;
        }
        .font-label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }
        select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 1rem;
        }
        .font-preview {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            background: #f8f9fa;
            min-height: 150px;
        }
        .collapsible-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 12px 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        .collapsible-header:hover {
            background-color: #f0f4ff;
        }
        .toggle-icon {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }
        .toggle-icon.collapsed {
            transform: rotate(180deg);
        }
        .collapsible-content {
            overflow: hidden;
            transition: max-height 0.5s ease, opacity 0.5s ease;
            opacity: 1;
            max-height: 1000px;
        }
        .collapsible-content.collapsed {
            max-height: 0;
            opacity: 0;
        }
        .font-size-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            padding: 0 15px 15px;
        }
        .font-size-item {
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .font-size-label {
            font-size: 0.8rem;
            color: var(--gray);
            margin-bottom: 8px;
            text-align: center;
        }
        .font-size-text {
            padding: 8px;
            border-radius: 4px;
            text-align: center;
        }
        .logo-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        .upload-area {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            border-color: var(--primary);
            background: #f0f4ff;
        }
        .logo-preview {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .logo-size {
            flex: 1;
            min-width: 200px;
            text-align: center;
        }
        .logo-placeholder {
            width: 100%;
            height: 100px;
            background: #f0f0f0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }
        .mockup-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        .mockup-container {
            margin-top: 20px;
        }
        .website-mockup {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 100%;
            margin-bottom: 30px;
        }
        .mockup-header {
            height: 60px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }
        .mockup-nav {
            height: 40px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            border-bottom: 1px solid #eee;
        }
        .nav-item {
            margin-right: 20px;
            font-weight: 500;
        }
        .mockup-hero {
            height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
        }
        .hero-logo {
            width: 150px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
        }
        .mockup-content {
            padding: 30px;
        }
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        .main-content {
            padding-right: 20px;
        }
        .sidebar {
            border-left: 1px solid #eee;
            padding-left: 20px;
        }
        .mockup-footer {
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            border-top: 1px solid #eee;
            font-size: 0.9rem;
        }
        .footer-logo {
            width: 80px;
            height: 30px;
            background: rgba(0,0,0,0.1);
            border-radius: 4px;
        }
        .mockup-button {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: bold;
            margin: 20px 0;
        }
        .data-management {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        button {
            padding: 12px 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        .btn-secondary {
            background: var(--gray);
            color: white;
        }
        .btn-success {
            background: var(--success);
            color: white;
        }
        button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        @media (max-width: 768px) {
            .workflow-steps {
                grid-template-columns: 1fr;
            }
            .font-selector {
                flex-direction: column;
                gap: 20px;
            }
            .content-grid {
                grid-template-columns: 1fr;
            }
            .main-content {
                padding-right: 0;
                border-right: none;
            }
            .sidebar {
                border-left: none;
                padding-left: 0;
                border-top: 1px solid #eee;
                padding-top: 20px;
            }
        }
        #servicesList {
            padding-left: 0; 
            list-style-position: inside; 
        }
        #servicesList li {
            margin-bottom: 5px; 
        }

        /* ðŸ”¹ NEUE FUSSZEILEN-STYLES */
        .page-footer {
            margin-top: 50px;
            padding: 20px 0;
            text-align: center;
            background-color: var(--dark);
            color: white;
            border-radius: 10px;
            font-size: 0.95rem;
            opacity: 0.9;
        }
        .page-footer p {
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>The Web Canvas</h1>
            <p class="subtitle">Validate and test your brand identity against best practices</p>
        </header>
        <div class="workflow-steps">
            <div class="step-card">
                <div class="step-number">1</div>
                <h3 class="step-title">Color Palette Creation</h3>
                <p>Build your brand color palette and validate WCAG contrast ratios for accessibility compliance.</p>
            </div>
            <div class="step-card">
                <div class="step-number">2</div>
                <h3 class="step-title">Font Pairing Evaluation</h3>
                <p>Select and evaluate font pairings for optimal readability and aesthetic harmony.</p>
            </div>
            <div class="step-card">
                <div class="step-number">3</div>
                <h3 class="step-title">Logo Validation</h3>
                <p>Upload your logo and test its appearance across different contexts and sizes.</p>
            </div>
            <div class="step-card">
                <div class="step-number">4</div>
                <h3 class="step-title">Mockup Preview</h3>
                <p>See your complete brand kit applied to realistic website layouts for validation.</p>
            </div>
        </div>
        <div class="color-palette-section">
            <h2 class="section-title">1. Color Palette Creation & WCAG Check</h2>
            <div class="palette-controls">
                <div class="color-input-container">
                    <div class="color-box">
                        <input type="color" id="newColor" value="#4361ee">
                    </div>
                    <button class="btn-primary" onclick="addColor()">Add Color</button>
                </div>
                <button class="btn-secondary" onclick="generateRandomPalette()">Generate Random Palette</button>
                <button class="btn-secondary" onclick="resetColors()">Reset Colors</button>
            </div>
            <div class="color-preview" id="colorPreview">
            </div>
            <div class="wcag-checker">
                <h3>WCAG Contrast Checker</h3>
                <div class="contrast-selector">
                    <div class="contrast-option selected" onclick="selectContrastOption('background')">
                        <div>Background Color</div>
                    </div>
                    <div class="contrast-option" onclick="selectContrastOption('text')">
                        <div>Text Color</div>
                    </div>
                </div>
                <div class="contrast-preview" id="contrastPreview">
                    Aa
                </div>
                <div class="contrast-result pass" id="contrastResult">
                    Contrast Ratio: 4.5:1 - PASS (AA)
                </div>
            </div>
        </div>
        <div class="font-pairing-section">
            <h2 class="section-title">2. Font Pairing Input & Evaluation</h2>
            <div class="font-selector">
                <div class="font-column">
                    <label class="font-label">Primary Font (Headings)</label>
                    <select id="primaryFont" onchange="updateFontPreview()">
                        <option value="Arial, sans-serif">Arial (Sans Serif)</option>
                        <option value="'Times New Roman', serif">Times New Roman (Serif)</option>
                        <option value="'Helvetica Neue', sans-serif">Helvetica Neue (Sans Serif)</option>
                        <option value="Georgia, serif">Georgia (Serif)</option>
                        <option value="'Open Sans', sans-serif">Open Sans (Sans Serif)</option>
                        <option value="'Merriweather', serif">Merriweather (Serif)</option>
                    </select>
                </div>
                <div class="font-column">
                    <label class="font-label">Secondary Font (Body)</label>
                    <select id="secondaryFont" onchange="updateFontPreview()">
                        <option value="'Open Sans', sans-serif">Open Sans (Sans Serif)</option>
                        <option value="'Merriweather', serif">Merriweather (Serif)</option>
                        <option value="Arial, sans-serif">Arial (Sans Serif)</option>
                        <option value="'Times New Roman', serif">Times New Roman (Serif)</option>
                        <option value="'Helvetica Neue', sans-serif">Helvetica Neue (Sans Serif)</option>
                        <option value="Georgia, serif">Georgia (Serif)</option>
                    </select>
                </div>
            </div>
            <div class="font-preview" id="simpleFontPreview">
                <h3 style="margin-bottom: 15px;">Font Pairing Preview</h3>
                <p id="previewBodyText">This is a sample paragraph using your selected secondary font for body text. The quick brown fox jumps over the lazy dog.</p>
                <h4 id="previewHeadingText" style="margin-top: 20px;">This is a heading using your primary font</h4>
            </div>
            <div class="font-preview" style="margin-top: 15px; padding: 0; background: none;">
                <h3 style="margin-bottom: 15px; padding-left: 20px;">Advanced Font Sizing Preview</h3>
                <div class="collapsible-section">
                    <div class="collapsible-header" onclick="togglePreview('primary')">
                        <h4 style="margin: 0;">Primary Font (Headings)</h4>
                        <span class="toggle-icon collapsed" id="primaryToggle">â–¼</span>
                    </div>
                    <div class="collapsible-content collapsed" id="primaryContent">
                        <div class="font-size-preview" id="primaryFontPreview">
                        </div>
                    </div>
                </div>
                <div class="collapsible-section">
                    <div class="collapsible-header" onclick="togglePreview('secondary')">
                        <h4 style="margin: 0;">Secondary Font (Body)</h4>
                        <span class="toggle-icon collapsed" id="secondaryToggle">â–¼</span>
                    </div>
                    <div class="collapsible-content collapsed" id="secondaryContent">
                        <div class="font-size-preview" id="secondaryFontPreview">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="logo-section">
            <h2 class="section-title">3. Logo Check & Placement Test</h2>
            <div class="upload-area" onclick="document.getElementById('logoUpload').click()">
                <p>Click to upload your SVG logo</p>
                <p style="font-size: 0.9rem; opacity: 0.7;">(SVG format recommended)</p>
                <input type="file" id="logoUpload" accept=".svg" style="display: none;" onchange="handleLogoUpload(event)">
            </div>
            <div class="logo-preview">
                <div class="logo-size">
                    <div class="logo-placeholder" id="logoFavicon">
                        Favicon (16x16)
                    </div>
                    <p>Favicon Size</p>
                </div>
                <div class="logo-size">
                    <div class="logo-placeholder" id="logoHeader">
                        Header Logo (200x80)
                    </div>
                    <p>Header Size</p>
                </div>
                <div class="logo-size">
                    <div class="logo-placeholder" id="logoFooter">
                        Footer Logo (100x40)
                    </div>
                    <p>Footer Size</p>
                </div>
            </div>
        </div>
        <div class="mockup-section">
            <h2 class="section-title">4. Website Mockup Preview and Validation</h2>
            <div class="mockup-container">
                <div class="website-mockup">
                    <div class="mockup-header" id="mockupHeader">
                        <div class="hero-logo" id="headerLogo">LOGO</div>
                    </div>
                    <div class="mockup-nav" id="mockupNav">
                        <div class="nav-item">Home</div>
                        <div class="nav-item">About</div>
                        <div class="nav-item">Services</div>
                        <div class="nav-item">Contact</div>
                    </div>
                    <div class="mockup-hero" id="mockupHero">
                        <h1 id="heroHeading">Welcome to Our Brand</h1>
                        <p id="heroText">This is a sample hero section demonstrating how your brand elements work together in a realistic website layout.</p>
                        <button class="mockup-button" id="mockupButton">Get Started</button>
                    </div>
                    <div class="mockup-content">
                        <div class="content-grid">
                            <div class="main-content">
                                <h2 id="mainHeading">About Our Company</h2>
                                <p id="mainText1">Your selected fonts and colors create a cohesive experience across all pages of your website. This paragraph demonstrates the body text styling with your chosen secondary font.</p>
                                <p id="mainText2">Consistent branding builds trust and recognition with your audience. The visual elements work together to create a professional and memorable user experience.</p>
                                <br>
                                <h3 id="subHeading">Our Services</h3>
                                <ul id="servicesList">
                                    <li>Service One</li>
                                    <li>Service Two</li>
                                    <li>Service Three</li>
                                </ul>
                            </div>
                            <div class="sidebar">
                                <h3 id="sidebarHeading">Latest News</h3>
                                <p id="sidebarText">Sample sidebar content using your brand typography and color scheme.</p>
                                <div style="height: 100px; background: #eee; border-radius: 5px; margin: 15px 0;"></div>
                                <p id="sidebarText2">Additional information panel showcasing your brand colors.</p>
                            </div>
                        </div>
                    </div>
                    <div class="mockup-footer" id="mockupFooter">
                        <div>Â© 2023 Your Brand. All rights reserved.</div>
                        <div class="footer-logo" id="footerLogo"></div>
                    </div>
                </div>
            </div>
            <div class="data-management">
                <button class="btn-success" onclick="saveConfiguration()">Save Configuration</button>
                <button class="btn-secondary" onclick="loadConfiguration()">Load Configuration</button>
                <button class="btn-secondary" onclick="resetAll()">Reset All</button>
            </div>
        </div>

        <!-- ðŸ”¹ NEUE FUSSZEILE 
        <footer class="page-footer">
            <p>Erstellt von: <strong>[Dein Name]</strong> | Projekt: <strong>[Projektname]</strong></p>
        </footer> -->
		
    </div>
    <script>
        // Color Palette Management
        let colorPalette = [];
        let selectedContrastColors = { background: null, text: null };
        let currentContrastRole = 'background';
        window.onload = function() {
            generateRandomPalette();
            updateFontPreview();
        };
        function generateRandomPalette() {
            colorPalette = [];
            const baseColors = [
                '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', 
                '#FFEAA7', '#DDA0DD', '#98D8C8', '#F7DC6F',
                '#BB8FCE', '#85C1E9', '#F8C471', '#82E0AA'
            ];
            const count = Math.floor(Math.random() * 3) + 4;
            for (let i = 0; i < count; i++) {
                const randomIndex = Math.floor(Math.random() * baseColors.length);
                colorPalette.push(baseColors[randomIndex]);
            }
            // ðŸ”¹ Automatisch zwei unterschiedliche Farben auswÃ¤hlen
            if (colorPalette.length >= 2) {
                const bgIndex = Math.floor(Math.random() * colorPalette.length);
                let textIndex;
                do {
                    textIndex = Math.floor(Math.random() * colorPalette.length);
                } while (textIndex === bgIndex);
                selectedContrastColors.background = colorPalette[bgIndex];
                selectedContrastColors.text = colorPalette[textIndex];
            } else if (colorPalette.length === 1) {
                selectedContrastColors.background = colorPalette[0];
                selectedContrastColors.text = '#000000';
            } else {
                selectedContrastColors = { background: null, text: null };
            }
            renderColorPalette();
            updateContrastPreview();
        }
        function addColor() {
            const newColor = document.getElementById('newColor').value;
            colorPalette.push(newColor);
            renderColorPalette();
        }
        function removeColor(index) {
            colorPalette.splice(index, 1);
            renderColorPalette();
            updateContrastPreview();
        }
        function renderColorPalette() {
            const container = document.getElementById('colorPreview');
            container.innerHTML = '';
            colorPalette.forEach((color, index) => {
                const colorItem = document.createElement('div');
                colorItem.className = 'color-item';
                colorItem.style.backgroundColor = color;
                // ðŸ”¹ Markierung, falls ausgewÃ¤hlt
                if (selectedContrastColors.background === color) {
                    colorItem.classList.add('selected-bg');
                }
                if (selectedContrastColors.text === color) {
                    colorItem.classList.add('selected-text');
                }
                const rgb = hexToRgb(color);
                const brightness = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;
                const textColor = brightness > 128 ? '#000' : '#fff';
                colorItem.innerHTML = `
                    <span style="color: ${textColor}">${color}</span>
                    <button class="remove-color" onclick="removeColor(${index})">Ã—</button>
                `;
                colorItem.addEventListener('click', () => {
                    if (currentContrastRole === 'background') {
                        selectedContrastColors.background = color;
                    } else {
                        selectedContrastColors.text = color;
                    }
                    updateContrastPreview();
                });
                container.appendChild(colorItem);
            });
        }
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : { r: 0, g: 0, b: 0 };
        }
        function resetColors() {
            colorPalette = [];
            selectedContrastColors = { background: null, text: null };
            renderColorPalette();
            updateContrastPreview();
        }
        // WCAG Contrast Checker
        function selectContrastOption(role) {
            currentContrastRole = role;
            document.querySelectorAll('.contrast-option').forEach(el => {
                el.classList.remove('selected');
            });
            event.target.closest('.contrast-option').classList.add('selected');
        }
        function updateContrastPreview() {
            const preview = document.getElementById('contrastPreview');
            const result = document.getElementById('contrastResult');
            if (selectedContrastColors.background && selectedContrastColors.text) {
                preview.style.backgroundColor = selectedContrastColors.background;
                preview.style.color = selectedContrastColors.text;
                const ratio = calculateContrastRatio(
                    selectedContrastColors.background, 
                    selectedContrastColors.text
                );
                const aaPass = ratio >= 4.5;
                const aaaPass = ratio >= 7.0;
                result.textContent = `Contrast Ratio: ${ratio.toFixed(2)}:1 - ${aaPass ? 'PASS' : 'FAIL'} (AA) ${aaaPass ? '- AAA PASS' : ''}`;
                result.className = aaPass ? 'contrast-result pass' : 'contrast-result fail';
            } else {
                preview.style.backgroundColor = '#f0f0f0';
                preview.style.color = '#333';
                result.textContent = 'Select two colors to check contrast';
                result.className = 'contrast-result';
            }
            // ðŸ”¹ Aktualisiere Markierungen in der Palette
            renderColorPalette();
        }
        function calculateContrastRatio(color1, color2) {
            const lum1 = getLuminance(color1);
            const lum2 = getLuminance(color2);
            const brightest = Math.max(lum1, lum2);
            const darkest = Math.min(lum1, lum2);
            return (brightest + 0.05) / (darkest + 0.05);
        }
        function getLuminance(hex) {
            const rgb = hexToRgb(hex);
            const a = [rgb.r, rgb.g, rgb.b].map(function(v) {
                v /= 255;
                return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
            });
            return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;
        }
        // Font Pairing Evaluation
        function updateFontPreview() {
            const primaryFont = document.getElementById('primaryFont').value;
            const secondaryFont = document.getElementById('secondaryFont').value;
            document.getElementById('simpleFontPreview').style.fontFamily = secondaryFont;
            document.getElementById('previewHeadingText').style.fontFamily = primaryFont;
            document.getElementById('previewBodyText').style.fontFamily = secondaryFont;
            const primaryPreview = document.getElementById('primaryFontPreview');
            primaryPreview.innerHTML = '';
            const fontSizes = [
                { size: 12, label: '12px (Caption)' },
                { size: 14, label: '14px (Small)' },
                { size: 16, label: '16px (Body)' },
                { size: 18, label: '18px (Subheading)' },
                { size: 24, label: '24px (Heading)' },
                { size: 32, label: '32px (Title)' },
                { size: 48, label: '48px (Hero Title)' }
            ];
            fontSizes.forEach(item => {
                const div = document.createElement('div');
                div.className = 'font-size-item';
                div.innerHTML = `
                    <div class="font-size-label">${item.label}</div>
                    <div class="font-size-text" style="font-family: ${primaryFont}; font-size: ${item.size}px;">
                        The quick brown fox
                    </div>
                `;
                primaryPreview.appendChild(div);
            });
            const secondaryPreview = document.getElementById('secondaryFontPreview');
            secondaryPreview.innerHTML = '';
            fontSizes.forEach(item => {
                const div = document.createElement('div');
                div.className = 'font-size-item';
                div.innerHTML = `
                    <div class="font-size-label">${item.label}</div>
                    <div class="font-size-text" style="font-family: ${secondaryFont}; font-size: ${item.size}px;">
                        The quick brown fox
                    </div>
                `;
                secondaryPreview.appendChild(div);
            });
        }
        function togglePreview(type) {
            const content = document.getElementById(`${type}Content`);
            const toggleIcon = document.getElementById(`${type}Toggle`);
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                toggleIcon.classList.remove('collapsed');
                toggleIcon.textContent = 'â–²'; 
            } else {
                content.classList.add('collapsed');
                toggleIcon.classList.add('collapsed');
                toggleIcon.textContent = 'â–¼';
            }
        }
        // Logo Handling
        function handleLogoUpload(event) {
            const file = event.target.files[0];
            if (file && file.type === 'image/svg+xml') {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const svgContent = e.target.result;
                    document.getElementById('headerLogo').innerHTML = `<img src="${svgContent}" style="max-width: 100%; max-height: 100%;">`;
                    document.getElementById('footerLogo').innerHTML = `<img src="${svgContent}" style="max-width: 100%; max-height: 100%;">`;
                    document.querySelectorAll('.logo-placeholder').forEach(el => {
                        el.innerHTML = `<img src="${svgContent}" style="max-width: 100%; max-height: 100%;">`;
                    });
                };
                reader.readAsDataURL(file);
            } else {
                alert('Please upload an SVG file');
            }
        }
        // Mockup Updates
        function updateMockups() {
            if (colorPalette.length > 0) {
                const primaryColor = colorPalette[0];
                const secondaryColor = colorPalette.length > 1 ? colorPalette[1] : '#6c757d';
                const accentColor = colorPalette.length > 2 ? colorPalette[2] : '#495057';
                document.getElementById('mockupHeader').style.backgroundColor = primaryColor;
                document.getElementById('mockupNav').style.backgroundColor = secondaryColor;
                document.getElementById('mockupHero').style.backgroundColor = accentColor;
                document.getElementById('mockupFooter').style.backgroundColor = secondaryColor;
                const button = document.getElementById('mockupButton');
                if (button) {
                    button.style.backgroundColor = primaryColor;
                    button.style.color = getContrastColor(primaryColor);
                }
                document.getElementById('mockupNav').style.color = getContrastColor(secondaryColor);
                document.getElementById('mockupFooter').style.color = getContrastColor(secondaryColor);
            }
            const primaryFont = document.getElementById('primaryFont').value;
            const secondaryFont = document.getElementById('secondaryFont').value;
            document.getElementById('heroHeading').style.fontFamily = primaryFont;
            document.getElementById('mainHeading').style.fontFamily = primaryFont;
            document.getElementById('subHeading').style.fontFamily = primaryFont;
            document.getElementById('sidebarHeading').style.fontFamily = primaryFont;
            document.getElementById('heroText').style.fontFamily = secondaryFont;
            document.getElementById('mainText1').style.fontFamily = secondaryFont;
            document.getElementById('mainText2').style.fontFamily = secondaryFont;
            document.getElementById('sidebarText').style.fontFamily = secondaryFont;
            document.getElementById('sidebarText2').style.fontFamily = secondaryFont;
            document.getElementById('servicesList').style.fontFamily = secondaryFont;
        }
        function getContrastColor(hex) {
            const rgb = hexToRgb(hex);
            const brightness = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;
            return brightness > 128 ? '#000' : '#fff';
        }
        // Data Management
        function saveConfiguration() {
            const config = {
                colors: colorPalette,
                fonts: {
                    primary: document.getElementById('primaryFont').value,
                    secondary: document.getElementById('secondaryFont').value
                }
            };
            const dataStr = "text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(config));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", "brand_config.json");
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            alert('Configuration saved successfully!');
        }
        function loadConfiguration() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const config = JSON.parse(e.target.result);
                        colorPalette = config.colors || [];
                        document.getElementById('primaryFont').value = config.fonts?.primary || 'Arial, sans-serif';
                        document.getElementById('secondaryFont').value = config.fonts?.secondary || "'Open Sans', sans-serif";
                        renderColorPalette();
                        updateFontPreview();
                        updateMockups();
                        alert('Configuration loaded successfully!');
                    } catch (error) {
                        alert('Error loading configuration file');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }
        function resetAll() {
            if (confirm('Are you sure you want to reset all configurations?')) {
                resetColors();
                document.getElementById('primaryFont').value = 'Arial, sans-serif';
                document.getElementById('secondaryFont').value = "'Open Sans', sans-serif";
                document.getElementById('logoUpload').value = '';
                document.getElementById('headerLogo').innerHTML = 'LOGO';
                document.getElementById('footerLogo').innerHTML = '';
                document.querySelectorAll('.logo-placeholder').forEach(el => {
                    el.innerHTML = el.textContent;
                });
                updateFontPreview();
                updateMockups();
            }
        }
        setInterval(updateMockups, 1000);
    </script>
</body>
</html>